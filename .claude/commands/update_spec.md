# SwitchBot API TypeSpec更新

SwitchBot APIの公式仕様（https://github.com/OpenWonderLabs/SwitchBotAPI/blob/main/README.md）に基づいてTypeSpecスキーマを修正する。

## プロセス

### 1. 分析（並列実行）

- 現在のTypeSpecスキーマ構造を把握
- 公式仕様を取得し、認証・エンドポイント・型定義を抽出
- 現在のスキーマと公式仕様の差分をリストアップ

### 2. 修正（優先度順）

**最優先**: API動作に影響

- 認証ヘッダーの不足・不一致
- エンドポイントパス・HTTPメソッドの相違
- 必須パラメータの欠落

**高優先**: 型安全性

- データ型の不正確性（string→numeric等）
- Enum値の不一致
- 継承関係の修正

**中優先**: 完全性

- 任意パラメータ追加
- 新デバイスタイプ追加

### 3. 検証

- `pnpm build`: スキーマ生成成功
- `pnpm lint`: 静的解析通過
- `pnpm typecheck`: 型チェック通過

## 厳守ルール

- **TodoWrite必須使用**: 全ステップをTodoWriteで管理
- **並列実行必須**: 独立タスクは並列実行でパフォーマンス最大化
- **段階的検証**: 修正後は必ずビルド・リント・型チェック実行
- **後方互換性維持**: 既存機能の破壊は厳禁
- **公式仕様準拠**: 推測・仮定による実装は禁止
- **最小限修正**: 無関係なリファクタリングは実施しない
- **即座エラー対応**: ビルドエラー発生時は他作業を中断し即修正
